{"version":3,"file":"userAgent.js","sources":["../../../src/transports/userAgent.ts"],"sourcesContent":["import type { ClientOptions } from '../types-hoist/options';\n\n/**\n * Takes the SDK metadata and adds the user-agent header to the transport options.\n * This ensures that the SDK sends the user-agent header with SDK name and version to\n * all requests made by the transport.\n *\n * @see https://develop.sentry.dev/sdk/overview/#user-agent\n */\nexport function addUserAgentToTransportHeaders(options: ClientOptions): void {\n  const sdkMetadata = options._metadata?.sdk;\n  const sdkUserAgent =\n    sdkMetadata?.name && sdkMetadata?.version ? `${sdkMetadata?.name}/${sdkMetadata?.version}` : undefined;\n\n  options.transportOptions = {\n    ...options.transportOptions,\n    headers: {\n      ...(sdkUserAgent && { 'user-agent': sdkUserAgent }),\n      ...options.transportOptions?.headers,\n    },\n  };\n}\n"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,8BAA8B,CAAC,OAAO,EAAuB;AAC7E,EAAE,MAAM,WAAA,GAAc,OAAO,CAAC,SAAS,EAAE,GAAG;AAC5C,EAAE,MAAM,YAAA;AACR,IAAI,WAAW,EAAE,IAAA,IAAQ,WAAW,EAAE,OAAA,GAAU,CAAC,EAAA,WAAA,EAAA,IAAA,CAAA,CAAA,EAAA,WAAA,EAAA,OAAA,CAAA,CAAA,GAAA,SAAA;;AAEA,EAAA,OAAA,CAAA,gBAAA,GAAA;AACA,IAAA,GAAA,OAAA,CAAA,gBAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,YAAA,IAAA,EAAA,YAAA,EAAA,YAAA,EAAA,CAAA;AACA,MAAA,GAAA,OAAA,CAAA,gBAAA,EAAA,OAAA;AACA,KAAA;AACA,GAAA;AACA;;;;"}